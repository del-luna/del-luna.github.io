---
layout: post
title: 포인터와 참조자
author: Jaeheon Kwon
categories: C++
tags: [tutorial]
---



포인터는 값이 아닌 주소를 저장한다.

처음엔 이 말이 뭔말인가 싶었다.

보통 이런 예시를 많이 드는데,

```c++
int x = 10;
int* p = &x; //x의 주솟값을 포인터 자료형 p에 대입.
```

나는 파이썬 유저라 그냥 주솟값도 문자열로 취급하면 안되나..? 이렇게 생각했는데, 우선 포인터 타입(?)의 변수도 가르키고자 하는 자료형에 따라 여러가지 자료형을 취급한다고 한다.(아마 자료형 마다 차지하는 메모리의 크기가 달라서 그런 것 같다.)



```c++
int x;
int *p;

double x;
double *p;

char x;
char *p;
```



아무튼 C에서는 어떤 변수를 가르키고 싶을 때 포인터를 활용해야 했는데, C++은 참조자(Reference)라는 녀석이 있다.

```c++
#include <iostream>

int main() {
  int a = 3;
  int& another_a = a;

  another_a = 5;
  std::cout << "a : " << a << std::endl;
  std::cout << "another_a : " << another_a << std::endl;

  return 0;
}
```



참조자는 a의 '별명' 이라고 생각하면 된다. 3이라는 값이 할당된 변수 a, 그리고 3을 가르키는 a의 '별명' another_a 가 있다.(파이썬은 그냥 a=3, b=a 인데 ㅋㅋ)

아무튼 이 별명을 통해 컴파일러에게 another_a는 a의 참조자 라고 말해준다.

참조자의 특징은 정의 시에 반드시 누구의 참조자인지 명시해야 하고, 한번 어떤 변수의 참조자가 돼버리면 더 이상 다른 변수를 참조할 수 없다. 따라서 다음과 같은 문법은 불가능하다.

```c++
int& another_a;
```



하지만 포인터는 이게 된다.

```c++
int* p;
```

또 여러면 다른 변수를 참조할 수 있다.

```c++
int a = 10;
int* p = &a; // p 는 a 를 가리킨다.

int b = 3;
p = &b // 이제 p 는 a 를 버리고 b 를 가리킨다
```



다음 코드를 이해하면 참조자를 어느정도 이해했다고 할 수 있다.

```c++
int x;
int& y = x;
int& z= y;
```

변수 x, x의 별명 y, y의 별명 z...라고 해석할 수 있겠지만 별명의 별명이란 말은 좀 이상하다. 실제로 c++은 참조자의 참조자를 만드는 것이 금지돼있다.

즉 z는 저 상황에서 x를 참조하게 된다.(e.g. python -> x=2, y=x, z=y)





## Reference

[씹어먹는 C++](https://modoocode.com/141)