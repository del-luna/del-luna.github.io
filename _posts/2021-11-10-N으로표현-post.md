---
layout: post
title: N으로 표현
author: Jaeheon Kwon
categories: PS
tags: [dp]
---

https://programmers.co.kr/learn/courses/30/lessons/42895





###### 문제 설명

아래와 같이 5와 사칙연산만으로 12를 표현할 수 있습니다.

12 = 5 + 5 + (5 / 5) + (5 / 5)
12 = 55 / 5 + 5 / 5
12 = (55 + 5) / 5

5를 사용한 횟수는 각각 6,5,4 입니다. 그리고 이중 가장 작은 경우는 4입니다.
이처럼 숫자 N과 number가 주어질 때, N과 사칙연산만 사용해서 표현 할 수 있는 방법 중 N 사용횟수의 최솟값을 return 하도록 solution 함수를 작성하세요.

##### 제한사항

- N은 1 이상 9 이하입니다.
- number는 1 이상 32,000 이하입니다.
- 수식에는 괄호와 사칙연산만 가능하며 나누기 연산에서 나머지는 무시합니다.
- 최솟값이 8보다 크면 -1을 return 합니다.

##### 입출력 예

| N    | number | return |
| ---- | ------ | ------ |
| 5    | 12     | 4      |
| 2    | 11     | 3      |

##### 입출력 예 설명

예제 #1
문제에 나온 예와 같습니다.

예제 #2
`11 = 22 / 2`와 같이 2를 3번만 사용하여 표현할 수 있습니다.




 알고있던 문제라서 풀긴 풀었지만 좀 찝찝했다.

우선 사용할 수 있는 숫자 n이 주어질 때

n+n, n-n, n*n, n//n을 구해서 점점 추가해나가는 방식으로 subproblem을 구성하는 것은 알고 있었다.

내가 모르는 포인트 두 가지는

1. n의 사용 가능 횟수가 늘어나도 이전 스텝을 사용해서 현재 스테이트를 구할 수 있다는 것
2. n을 5번 사용한다고 가정하자,
   n1 op(사칙연산) n4
   n2 op n3
   n3 op n2
   n4 op n1
   이런 식의 연산을 통해 n5를 구할 수 있는데, 따라서 절반 까지만 계산해도 된다는 것

이 두가지를 놓치고 있었던 문제이다.



```python
def solution(n, number):
    possible = [0,[n]]
    if n == number:
        return 1

    for i in range(2,9):
        temp = {int(str(n)*i)}
        for a in range(1, i//2+1):
            for x in possible[a]:
                for y in possible[i-a]:
                    temp.add(x+y)
                    temp.add(x-y)
                    temp.add(y-x)
                    temp.add(x*y)
                    if y!=0:
                        temp.add(x//y)
                    if x!=0:
                        temp.add(y//x)

        if number in temp:
            return i
        possible.append(temp)

    return -1
```